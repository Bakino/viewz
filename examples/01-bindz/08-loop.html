<!doctype html>
<head>
    <meta charset="utf-8">
    <title>Simple Binding</title>
</head>
<body>
    <div id="container">
        <h1 z-bind="title"></h1>
        <ul>
            <li z-bind="item of items" style="color: ${item.color}">
                ${item.name} <span z-on-click="myFunctions.showAlert(item)" style="cursor: pointer; text-decoration: underline;">(Click me)</span>
                <ol>
                    <li z-bind="subItem of item.subItems">
                        ${subItem.name} <span z-on-click="myFunctions.showAlert(subItem)" style="cursor: pointer; text-decoration: underline;">(Click me)</span>
                    </li>
                </ol>
            </li>
        </ul>
    </div>
    <script type="module">
        import { bind } from '../../lib/bindz.mjs';

        const items = [] ;
        for(let i=1; i<=5; i++){
            items.push({
                name: `Item number ${i}`,
                color: i % 2 === 0 ? 'red' : 'blue',
                subItems: Array.from({length: 3}, (_, j) => ({ name: `Subitem ${j+1} of Item ${i}` }))
            });
        }

        // data to bind to the HTML element
        const data = {
            title: 'Hello, World!',
            items
        };

        const myFunctions = {
            showAlert: (item) => {
                alert(`You clicked on ${item.name}`);
            }
        }

        // start the binding
        bind(document.getElementById('container'), data, { myFunctions });
    </script>
</body>
</html>