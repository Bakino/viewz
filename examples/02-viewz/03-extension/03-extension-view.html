<!doctype html>
<head>
    <meta charset="utf-8">
    <title>Simple Binding</title>
</head>
<body>
    <div id="container">
        
    </div>
    <script type="module">
        import { ViewZ } from '../../../lib/viewz.mjs';

        const myExtension = {
            plugin: "my-extension",
            globals: {
                // today() will be available as global function in the view
                today: function() {
                    const date = new Date();
                    return date.toDateString();
                }
            },
            extends: {
                // will be available as view.initTime
                initTime: new Date().toLocaleTimeString(),
                // can be called as view.updateTime()
                updateTime() {
                    // 'this' refers to the view instance
                    this.data.time = new Date().toLocaleTimeString();
                },

                destroy: function() {
                    console.log("View is being destroyed");
                    //clean up any resources or listeners here
                }
            }
        }

        ViewZ.loadExtension(myExtension);


        //give HTML/CSS/JS files to the view
        const view = new ViewZ({
            html: `extension-view.html`,
            css: `extension-view.css`,
            js: `extension-view.js`,
            id: `extension-view`,
        })

        // start the binding
        const container = document.getElementById('container');
        //render the view inside the container
        view.render({container}) ;
    </script>
</body>
</html>